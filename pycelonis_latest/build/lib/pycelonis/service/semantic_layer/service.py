import logging
import uuid
from datetime import datetime
from io import BytesIO
from typing import Any, Dict, List, Literal, Optional, Union

from pycelonis_core.base.base_model import (PyCelonisBaseEnum,
                                            PyCelonisBaseModel)
from pycelonis_core.client.client import Client
from pycelonis_core.utils.ml_workbench import TRACKING_LOGGER

try:
    from pydantic.v1 import (Field, StrictBool, StrictInt,  # type: ignore
                             StrictStr)
except ImportError:
    from pydantic import (Field, StrictBool, StrictInt,  # type: ignore
                          StrictStr)


logger = logging.getLogger(TRACKING_LOGGER)


JsonNode = Any


class Action(PyCelonisBaseEnum):
    COPY_ALL = "COPY_ALL"
    COPY = "COPY"
    CREATE = "CREATE"
    DELETE_ALL = "DELETE_ALL"
    DELETE = "DELETE"
    EDIT_ALL = "EDIT_ALL"
    EDIT = "EDIT"
    EXECUTE_ALL = "EXECUTE_ALL"
    EXECUTE = "EXECUTE"
    EXPORT_ALL = "EXPORT_ALL"
    EXPORT = "EXPORT"
    MANAGE_ALL = "MANAGE_ALL"
    MANAGE = "MANAGE"
    READ_ALL = "READ_ALL"
    READ = "READ"
    SHARE_ALL = "SHARE_ALL"
    SHARE = "SHARE"
    USE_ALL = "USE_ALL"
    USE = "USE"
    ANY_ACTION_ON_CHILDREN = "ANY_ACTION_ON_CHILDREN"
    ENABLED = "ENABLED"
    MOVE = "MOVE"
    MOVE_ALL = "MOVE_ALL"
    IMPORT_ALL = "IMPORT_ALL"
    IMPORT = "IMPORT"
    UNRECOGNIZED = "UNRECOGNIZED"


class CascadeType(PyCelonisBaseEnum):
    DELETE = "DELETE"


class ContentNodeType(PyCelonisBaseEnum):
    ASSET = "ASSET"
    PACKAGE = "PACKAGE"
    FOLDER = "FOLDER"
    IMAGE = "IMAGE"


class RelationType(PyCelonisBaseEnum):
    USES = "USES"
    DEPENDS_ON = "DEPENDS_ON"


class InputDataType(PyCelonisBaseEnum):
    TEXT = "TEXT"
    NUMBER = "NUMBER"
    BOOLEAN = "BOOLEAN"
    PQL = "PQL"
    LIST = "LIST"
    DATE = "DATE"
    OBJECT = "OBJECT"


class InputScope(PyCelonisBaseEnum):
    USER_SPECIFIC = "USER_SPECIFIC"
    SYSTEM = "SYSTEM"


class KpiDirection(PyCelonisBaseEnum):
    INCREASE = "INCREASE"
    DECREASE = "DECREASE"
    NEUTRAL = "NEUTRAL"
    NONE = "NONE"


class LayerKind(PyCelonisBaseEnum):
    BASE = "BASE"
    EXTENSION = "EXTENSION"


class MetadataType(PyCelonisBaseEnum):
    KPI = "KPI"
    RECORD = "RECORD"
    VARIABLE = "VARIABLE"
    ACTIVITY = "ACTIVITY"
    FILTER = "FILTER"
    ACTION = "ACTION"
    ANOMALY = "ANOMALY"
    ATTRIBUTE = "ATTRIBUTE"
    NEW_ATTRIBUTE = "NEW_ATTRIBUTE"
    AUGMENTED_ATTRIBUTE = "AUGMENTED_ATTRIBUTE"
    PRIORITY = "PRIORITY"
    FLAG = "FLAG"
    EVENT_LOG = "EVENT_LOG"
    DATA_TRIGGER = "DATA_TRIGGER"


class ParameterType(PyCelonisBaseEnum):
    VARIABLE = "VARIABLE"
    TABLE = "TABLE"
    INTEGER = "INTEGER"
    TEXT = "TEXT"
    PQL = "PQL"


class ScopeType(PyCelonisBaseEnum):
    DISABLED = "DISABLED"


class TransitionType(PyCelonisBaseEnum):
    NON_INTERLEAVED = "NON_INTERLEAVED"
    INTERLEAVED = "INTERLEAVED"


class ComputeCallerType(PyCelonisBaseEnum):
    PROCESS_WORKSPACE = "PROCESS_WORKSPACE"
    KNOWLEDGE_MODEL = "KNOWLEDGE_MODEL"
    VIEW = "VIEW"
    DATA_MODEL = "DATA_MODEL"


class DataPermissionStrategy(PyCelonisBaseEnum):
    AND = "AND"
    OR = "OR"


class RegisteredVariableType(PyCelonisBaseEnum):
    COLUMN = "COLUMN"
    CONDITIONAL = "CONDITIONAL"


class ProxyExportTypeV2(PyCelonisBaseEnum):
    PARQUET = "PARQUET"
    EXCEL = "EXCEL"
    CSV = "CSV"


class QueryContext(PyCelonisBaseEnum):
    APPS = "APPS"
    STUDIO = "STUDIO"


class ProxyExportStatusV2(PyCelonisBaseEnum):
    RUNNING = "RUNNING"
    DONE = "DONE"
    FAILED = "FAILED"
    EXPIRED = "EXPIRED"


class ValidationError(PyCelonisBaseModel):
    attribute: Optional['str'] = Field(None, alias="attribute")
    error: Optional['str'] = Field(None, alias="error")
    error_code: Optional['str'] = Field(None, alias="errorCode")
    additional_info: Optional['str'] = Field(None, alias="additionalInfo")


class ExceptionReference(PyCelonisBaseModel):
    reference: Optional['str'] = Field(None, alias="reference")
    message: Optional['str'] = Field(None, alias="message")
    short_message: Optional['str'] = Field(None, alias="shortMessage")


class FrontendHandledBackendError(PyCelonisBaseModel):
    frontend_error_key: Optional['str'] = Field(None, alias="frontendErrorKey")
    error_information: Optional['Any'] = Field(None, alias="errorInformation")


class FinalModelOptions(PyCelonisBaseModel):
    with_variable_replacement: Optional['bool'] = Field(None, alias="withVariableReplacement")
    with_autogenerated_data_model_data: Optional['bool'] = Field(None, alias="withAutogeneratedDataModelData")
    with_default_values: Optional['bool'] = Field(None, alias="withDefaultValues")
    validate_pql: Optional['bool'] = Field(None, alias="validatePql")
    with_unknown_variables_validation: Optional['bool'] = Field(None, alias="withUnknownVariablesValidation")
    with_resolved_scopes: Optional['bool'] = Field(None, alias="withResolvedScopes")


class YamlMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    key: Optional['str'] = Field(None, alias="key")
    parent_node_id: Optional['str'] = Field(None, alias="parentNodeId")
    final_model_options: Optional['FinalModelOptions'] = Field(None, alias="finalModelOptions")
    content: Optional['str'] = Field(None, alias="content")
    visual_editor_validation: Optional['bool'] = Field(None, alias="visualEditorValidation")


class AssetMetadataTransport(PyCelonisBaseModel):
    used_variables: Optional['List[Optional[VariableDefinition]]'] = Field(None, alias="usedVariables")
    related_assets: Optional['List[Optional[RelatedAsset]]'] = Field(None, alias="relatedAssets")
    asset_usages: Optional['List[Optional[AssetUsage]]'] = Field(None, alias="assetUsages")
    metadata: Optional['JsonNode'] = Field(None, alias="metadata")
    hidden: Optional['bool'] = Field(None, alias="hidden")


class AssetUsage(PyCelonisBaseModel):
    object_id: Optional['str'] = Field(None, alias="objectId")
    target_objects: Optional['List[Optional[TargetUsageMetadata]]'] = Field(None, alias="targetObjects")


class ContentNodeBaseTransport(PyCelonisBaseModel):
    reference: Optional['str'] = Field(None, alias="reference")
    version: Optional['str'] = Field(None, alias="version")
    external: Optional['bool'] = Field(None, alias="external")


class ContentNodeTransport(PyCelonisBaseModel):
    actions: Optional['List[Optional[Action]]'] = Field(None, alias="actions")
    activated_draft_id: Optional['str'] = Field(None, alias="activatedDraftId")
    archived_at: Optional['int'] = Field(None, alias="archivedAt")
    archived_by: Optional['str'] = Field(None, alias="archivedBy")
    asset: Optional['bool'] = Field(None, alias="asset")
    asset_metadata_transport: Optional['AssetMetadataTransport'] = Field(None, alias="assetMetadataTransport")
    asset_type: Optional['str'] = Field(None, alias="assetType")
    base: Optional['ContentNodeBaseTransport'] = Field(None, alias="base")
    change_date: Optional['int'] = Field(None, alias="changeDate")
    created_by_id: Optional['str'] = Field(None, alias="createdById")
    creation_date: Optional['int'] = Field(None, alias="creationDate")
    deleted_at: Optional['int'] = Field(None, alias="deletedAt")
    deleted_by: Optional['str'] = Field(None, alias="deletedBy")
    draft_id: Optional['str'] = Field(None, alias="draftId")
    embeddable: Optional['bool'] = Field(None, alias="embeddable")
    folder: Optional['bool'] = Field(None, alias="folder")
    grouped_resource_type_to_actions: Optional['Dict[str, Optional[List[Optional[Action]]]]'] = Field(
        None, alias="groupedResourceTypeToActions"
    )
    id: Optional['str'] = Field(None, alias="id")
    identifier: Optional['str'] = Field(None, alias="identifier")
    input_variable_definitions: Optional['List[Optional[InputVariableDefinitionTransport]]'] = Field(
        None, alias="inputVariableDefinitions"
    )
    invalid_content: Optional['bool'] = Field(None, alias="invalidContent")
    key: Optional['str'] = Field(None, alias="key")
    name: Optional['str'] = Field(None, alias="name")
    node_type: Optional['ContentNodeType'] = Field(None, alias="nodeType")
    object_id: Optional['str'] = Field(None, alias="objectId")
    order: Optional['int'] = Field(None, alias="order")
    parent_node_id: Optional['str'] = Field(None, alias="parentNodeId")
    parent_node_key: Optional['str'] = Field(None, alias="parentNodeKey")
    permissions: Optional['List[Optional[str]]'] = Field(None, alias="permissions")
    public_available: Optional['bool'] = Field(None, alias="publicAvailable")
    resource_path: Optional['str'] = Field(None, alias="resourcePath")
    root: Optional['bool'] = Field(None, alias="root")
    root_node_id: Optional['str'] = Field(None, alias="rootNodeId")
    root_node_key: Optional['str'] = Field(None, alias="rootNodeKey")
    root_with_key: Optional['str'] = Field(None, alias="rootWithKey")
    schema_version: Optional['int'] = Field(None, alias="schemaVersion")
    serialization_type: Optional['str'] = Field(None, alias="serializationType")
    serialized_content: Optional['str'] = Field(None, alias="serializedContent")
    show_in_viewer_mode: Optional['bool'] = Field(None, alias="showInViewerMode")
    source: Optional['str'] = Field(None, alias="source")
    space_id: Optional['str'] = Field(None, alias="spaceId")
    tenant_id: Optional['str'] = Field(None, alias="tenantId")
    updated_by: Optional['str'] = Field(None, alias="updatedBy")
    version: Optional['str'] = Field(None, alias="version")
    working_draft_id: Optional['str'] = Field(None, alias="workingDraftId")


class RelatedAsset(PyCelonisBaseModel):
    object_id: Optional['str'] = Field(None, alias="objectId")
    type_: Optional['str'] = Field(None, alias="type")
    relation_type: Optional['RelationType'] = Field(None, alias="relationType")
    cascade_type: Optional['CascadeType'] = Field(None, alias="cascadeType")


class SourceUsageMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")


class TargetUsageMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    type_: Optional['str'] = Field(None, alias="type")
    source_objects: Optional['List[Optional[SourceUsageMetadata]]'] = Field(None, alias="sourceObjects")


class VariableDefinition(PyCelonisBaseModel):
    key: Optional['str'] = Field(None, alias="key")
    type_: Optional['str'] = Field(None, alias="type")
    description: Optional['str'] = Field(None, alias="description")
    source: Optional['str'] = Field(None, alias="source")
    runtime: Optional['bool'] = Field(None, alias="runtime")
    metadata: Optional['JsonNode'] = Field(None, alias="metadata")


class ActionInput(PyCelonisBaseModel):
    name: Optional['str'] = Field(None, alias="name")
    attribute: Optional['str'] = Field(None, alias="attribute")


class ActionMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    skill_id: Optional['str'] = Field(None, alias="skillId")
    skill_key: Optional['str'] = Field(None, alias="skillKey")
    records: Optional['List[Optional[str]]'] = Field(None, alias="records")
    filters: Optional['List[Optional[str]]'] = Field(None, alias="filters")
    inputs: Optional['List[Optional[ActionInput]]'] = Field(None, alias="inputs")
    type_: Optional['MetadataType'] = Field(None, alias="type")


class ActivityMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    value: Optional['str'] = Field(None, alias="value")
    type_: Optional['MetadataType'] = Field(None, alias="type")


class AlertMetric(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    pql: Optional['str'] = Field(None, alias="pql")
    message: Optional['str'] = Field(None, alias="message")


class AnomalyKpiMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    kpi_id: Optional['str'] = Field(None, alias="kpiId")
    impact_calculation: Optional['str'] = Field(None, alias="impactCalculation")
    scope: Optional['ScopeType'] = Field(None, alias="scope")


class AnomalyMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    flag: Optional['str'] = Field(None, alias="flag")
    kpi_ids: Optional['List[Optional[str]]'] = Field(None, alias="kpiIds")
    kpis: Optional['List[Optional[AnomalyKpiMetadata]]'] = Field(None, alias="kpis")
    mom_change: Optional['str'] = Field(None, alias="momChange")
    knowledge_object_id: Optional['str'] = Field(None, alias="knowledgeObjectId")
    type_: Optional['MetadataType'] = Field(None, alias="type")


class AttributeMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    pql: Optional['str'] = Field(None, alias="pql")
    filter_ids: Optional['List[Optional[str]]'] = Field(None, alias="filterIds")
    column_type: Optional['str'] = Field(None, alias="columnType")
    unit: Optional['str'] = Field(None, alias="unit")
    format: Optional['str'] = Field(None, alias="format")
    type_: Optional['MetadataType'] = Field(None, alias="type")


class AugmentedAttributeMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    possible_values: Optional['List[Optional[str]]'] = Field(None, alias="possibleValues")
    default_value: Optional['str'] = Field(None, alias="defaultValue")
    column_type: Optional['str'] = Field(None, alias="columnType")
    pql: Optional['str'] = Field(None, alias="pql")
    unit: Optional['str'] = Field(None, alias="unit")
    format: Optional['str'] = Field(None, alias="format")
    housekeeping: Optional['bool'] = Field(None, alias="housekeeping")
    type_: Optional['MetadataType'] = Field(None, alias="type")


class BaseMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")


class BusinessRecordMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    augmented: Optional['bool'] = Field(None, alias="augmented")
    identifier: Optional['PqlBaseMetadata'] = Field(None, alias="identifier")
    pql: Optional['str'] = Field(None, alias="pql")
    filter_ids: Optional['List[Optional[str]]'] = Field(None, alias="filterIds")
    attributes: Optional['List[Optional[AttributeMetadata]]'] = Field(None, alias="attributes")
    new_attributes: Optional['List[Optional[NewAttributeMetadata]]'] = Field(None, alias="newAttributes")
    augmented_attributes: Optional['List[Optional[AugmentedAttributeMetadata]]'] = Field(
        None, alias="augmentedAttributes"
    )
    flags: Optional['List[Optional[PqlBaseMetadata]]'] = Field(None, alias="flags")
    priorities: Optional['List[Optional[RecordPriorityMetadata]]'] = Field(None, alias="priorities")
    data_triggers: Optional['List[Optional[DataTriggerMetadata]]'] = Field(None, alias="dataTriggers")
    type_: Optional['MetadataType'] = Field(None, alias="type")


class DataTriggerMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    filter_ids: Optional['List[Optional[str]]'] = Field(None, alias="filterIds")
    type_: Optional['MetadataType'] = Field(None, alias="type")


class EventLogKpi(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    event_log_id: Optional['str'] = Field(None, alias="eventLogId")
    node_kpi_ids: Optional['List[Optional[str]]'] = Field(None, alias="nodeKpiIds")
    edge_kpi_ids: Optional['List[Optional[str]]'] = Field(None, alias="edgeKpiIds")
    node_kpis: Optional['List[Optional[KpiWithAlert]]'] = Field(None, alias="nodeKpis")
    edge_kpis: Optional['List[Optional[KpiWithAlert]]'] = Field(None, alias="edgeKpis")


class EventLogKpiView(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    icon: Optional['str'] = Field(None, alias="icon")
    event_log_kpis: Optional['List[Optional[EventLogKpi]]'] = Field(None, alias="eventLogKpis")
    transition_kpis: Optional['List[Optional[EventLogTransitionKpi]]'] = Field(None, alias="transitionKpis")


class EventLogMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    pql: Optional['str'] = Field(None, alias="pql")
    filter_ids: Optional['List[Optional[str]]'] = Field(None, alias="filterIds")
    type_: Optional['MetadataType'] = Field(None, alias="type")


class EventLogTransition(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    first_event_log_id: Optional['str'] = Field(None, alias="firstEventLogId")
    second_event_log_id: Optional['str'] = Field(None, alias="secondEventLogId")
    type_: Optional['TransitionType'] = Field(None, alias="type")


class EventLogTransitionKpi(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    transition_id: Optional['str'] = Field(None, alias="transitionId")
    kpi_id: Optional['str'] = Field(None, alias="kpiId")


class FilterMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    pql: Optional['str'] = Field(None, alias="pql")
    filter_ids: Optional['List[Optional[str]]'] = Field(None, alias="filterIds")
    global_: Optional['bool'] = Field(None, alias="global")
    type_: Optional['MetadataType'] = Field(None, alias="type")


class FinalLayerTransport(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    layer: Optional['LayerTransport'] = Field(None, alias="layer")
    yaml_object: Optional['str'] = Field(None, alias="yamlObject")


class InputVariableDefinitionTransport(PyCelonisBaseModel):
    data_type: Optional['InputDataType'] = Field(None, alias="dataType")
    default_value: Optional['str'] = Field(None, alias="defaultValue")
    description: Optional['str'] = Field(None, alias="description")
    display_name: Optional['str'] = Field(None, alias="displayName")
    key: Optional['str'] = Field(None, alias="key")
    propagate: Optional['bool'] = Field(None, alias="propagate")
    scope: Optional['InputScope'] = Field(None, alias="scope")


class KpiBenchmarking(PyCelonisBaseModel):
    value: Optional['str'] = Field(None, alias="value")
    action: Optional['KpiBenchmarkingAction'] = Field(None, alias="action")
    leading_bucket: Optional['PerformanceBucket'] = Field(None, alias="leadingBucket")
    exceeding_bucket: Optional['PerformanceBucket'] = Field(None, alias="exceedingBucket")
    achieving_bucket: Optional['PerformanceBucket'] = Field(None, alias="achievingBucket")
    lagging_bucket: Optional['PerformanceBucket'] = Field(None, alias="laggingBucket")


class KpiBenchmarkingAction(PyCelonisBaseModel):
    name: Optional['str'] = Field(None, alias="name")
    description: Optional['str'] = Field(None, alias="description")
    link: Optional['str'] = Field(None, alias="link")


class KpiMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    pql: Optional['str'] = Field(None, alias="pql")
    filter_ids: Optional['List[Optional[str]]'] = Field(None, alias="filterIds")
    unit: Optional['str'] = Field(None, alias="unit")
    format: Optional['str'] = Field(None, alias="format")
    breakdowns: Optional['List[Optional[BaseMetadata]]'] = Field(None, alias="breakdowns")
    aggregations: Optional['List[Optional[str]]'] = Field(None, alias="aggregations")
    parameters: Optional['List[Optional[ParameterMetadata]]'] = Field(None, alias="parameters")
    targets: Optional['List[Optional[TargetMetadata]]'] = Field(None, alias="targets")
    desired_direction: Optional['KpiDirection'] = Field(None, alias="desiredDirection")
    priority: Optional['bool'] = Field(None, alias="priority")
    benchmarking: Optional['KpiBenchmarking'] = Field(None, alias="benchmarking")
    type_: Optional['MetadataType'] = Field(None, alias="type")
    benchmarkable: Optional['bool'] = Field(None, alias="benchmarkable")


class KpiWithAlert(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    kpi_id: Optional['str'] = Field(None, alias="kpiId")
    icon: Optional['str'] = Field(None, alias="icon")
    alert_metrics: Optional['List[Optional[AlertMetric]]'] = Field(None, alias="alertMetrics")


class LayerBase(PyCelonisBaseModel):
    key: Optional['str'] = Field(None, alias="key")
    version: Optional['str'] = Field(None, alias="version")
    app_store_based: Optional['bool'] = Field(None, alias="appStoreBased")


class LayerMetadata(PyCelonisBaseModel):
    key: Optional['str'] = Field(None, alias="key")
    display_name: Optional['str'] = Field(None, alias="displayName")
    version: Optional['str'] = Field(None, alias="version")


class LayerTransport(PyCelonisBaseModel):
    kind: Optional['LayerKind'] = Field(None, alias="kind")
    metadata: Optional['LayerMetadata'] = Field(None, alias="metadata")
    base: Optional['LayerBase'] = Field(None, alias="base")
    data_model_id: Optional['str'] = Field(None, alias="dataModelId")
    records: Optional['List[Optional[BusinessRecordMetadata]]'] = Field(None, alias="records")
    kpis: Optional['List[Optional[KpiMetadata]]'] = Field(None, alias="kpis")
    filters: Optional['List[Optional[FilterMetadata]]'] = Field(None, alias="filters")
    variables: Optional['List[Optional[VariableMetadata]]'] = Field(None, alias="variables")
    activities: Optional['List[Optional[ActivityMetadata]]'] = Field(None, alias="activities")
    event_logs_metadata: Optional['NewEventLogMetadata'] = Field(None, alias="eventLogsMetadata")
    anomalies: Optional['List[Optional[AnomalyMetadata]]'] = Field(None, alias="anomalies")
    event_logs: Optional['List[Optional[EventLogMetadata]]'] = Field(None, alias="eventLogs")
    custom_objects: Optional['List[Optional[BaseMetadata]]'] = Field(None, alias="customObjects")
    id: Optional['str'] = Field(None, alias="id")
    tenant_id: Optional['str'] = Field(None, alias="tenantId")
    actions: Optional['List[Optional[ActionMetadata]]'] = Field(None, alias="actions")
    node_entity_id: Optional['str'] = Field(None, alias="nodeEntityId")


class NewAttributeMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    possible_values: Optional['List[Optional[str]]'] = Field(None, alias="possibleValues")
    default_value: Optional['str'] = Field(None, alias="defaultValue")
    column_type: Optional['str'] = Field(None, alias="columnType")
    unit: Optional['str'] = Field(None, alias="unit")
    format: Optional['str'] = Field(None, alias="format")
    type_: Optional['MetadataType'] = Field(None, alias="type")


class NewEventLogMetadata(PyCelonisBaseModel):
    event_logs: Optional['List[Optional[SingleEventLogMetadata]]'] = Field(None, alias="eventLogs")
    transitions: Optional['List[Optional[EventLogTransition]]'] = Field(None, alias="transitions")
    kpi_views: Optional['List[Optional[EventLogKpiView]]'] = Field(None, alias="kpiViews")


class ParameterMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    default_value: Optional['str'] = Field(None, alias="defaultValue")
    type_: Optional['ParameterType'] = Field(None, alias="type")


class PerformanceBucket(PyCelonisBaseModel):
    name: Optional['str'] = Field(None, alias="name")
    text_snippet: Optional['str'] = Field(None, alias="textSnippet")
    text_snippet_active: Optional['str'] = Field(None, alias="textSnippetActive")
    upper_value: Optional['str'] = Field(None, alias="upperValue")
    lower_value: Optional['str'] = Field(None, alias="lowerValue")


class PqlBaseMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    pql: Optional['str'] = Field(None, alias="pql")
    filter_ids: Optional['List[Optional[str]]'] = Field(None, alias="filterIds")


class RecordPriorityMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    pql: Optional['str'] = Field(None, alias="pql")
    filter_ids: Optional['List[Optional[str]]'] = Field(None, alias="filterIds")
    kpi: Optional['str'] = Field(None, alias="kpi")


class SingleEventLogMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    pql: Optional['str'] = Field(None, alias="pql")
    filter_ids: Optional['List[Optional[str]]'] = Field(None, alias="filterIds")
    record_id: Optional['str'] = Field(None, alias="recordId")
    default_event_log: Optional['bool'] = Field(None, alias="defaultEventLog")


class TargetMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    value: Optional['str'] = Field(None, alias="value")
    date_from: Optional['str'] = Field(None, alias="dateFrom")
    date_until: Optional['str'] = Field(None, alias="dateUntil")
    filters: Optional['List[Optional[str]]'] = Field(None, alias="filters")


class VariableMetadata(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    display_name: Optional['str'] = Field(None, alias="displayName")
    short_display_name: Optional['str'] = Field(None, alias="shortDisplayName")
    description: Optional['str'] = Field(None, alias="description")
    scope: Optional['ScopeType'] = Field(None, alias="scope")
    internal_note: Optional['str'] = Field(None, alias="internalNote")
    custom_attributes: Optional['JsonNode'] = Field(None, alias="customAttributes")
    auto_generated: Optional['bool'] = Field(None, alias="autoGenerated")
    value: Optional['str'] = Field(None, alias="value")
    type_: Optional['MetadataType'] = Field(None, alias="type")


class ComputeCallerInfo(PyCelonisBaseModel):
    object_id: Optional['str'] = Field(None, alias="objectId")
    object_type: Optional['ComputeCallerType'] = Field(None, alias="objectType")


class DataCommand(PyCelonisBaseModel):
    cube_id: Optional['str'] = Field(None, alias="cubeId")
    commands: Optional['List[Optional[DataQuery]]'] = Field(None, alias="commands")


class DataCommandBatchRequest(PyCelonisBaseModel):
    variables: Optional['List[Optional[Variable]]'] = Field(None, alias="variables")
    requests: Optional['List[Optional[DataCommandBatchTransport]]'] = Field(None, alias="requests")


class DataCommandBatchTransport(PyCelonisBaseModel):
    id: Optional['str'] = Field(None, alias="id")
    request: Optional['DataCommand'] = Field(None, alias="request")


class DataQuery(PyCelonisBaseModel):
    computation_id: Optional['int'] = Field(None, alias="computationId")
    queries: Optional['List[Optional[str]]'] = Field(None, alias="queries")
    is_transient: Optional['bool'] = Field(None, alias="isTransient")


class LayerComputeTransport(PyCelonisBaseModel):
    caller_info: Optional['ComputeCallerInfo'] = Field(None, alias="callerInfo")
    layer: Optional['LayerTransport'] = Field(None, alias="layer")
    request: Optional['QueryRequest'] = Field(None, alias="request")
    draft: Optional['bool'] = Field(None, alias="draft")


class QueryRequest(PyCelonisBaseModel):
    batch_request: Optional['DataCommandBatchRequest'] = Field(None, alias="batchRequest")
    filters: Optional['List[Optional[str]]'] = Field(None, alias="filters")


class Variable(PyCelonisBaseModel):
    name: Optional['str'] = Field(None, alias="name")
    type_: Optional['str'] = Field(None, alias="type")
    value: Optional['str'] = Field(None, alias="value")


class DataPermissionRule(PyCelonisBaseModel):
    values: Optional['List[Optional[str]]'] = Field(None, alias="values")
    column_id: Optional['str'] = Field(None, alias="columnId")
    table_id: Optional['str'] = Field(None, alias="tableId")


class Kpi(PyCelonisBaseModel):
    name: Optional['str'] = Field(None, alias="name")
    template: Optional['str'] = Field(None, alias="template")
    parameter_count: Optional['int'] = Field(None, alias="parameterCount")
    error: Optional['str'] = Field(None, alias="error")
    formula: Optional['str'] = Field(None, alias="formula")


class KpiInformation(PyCelonisBaseModel):
    kpis: Optional['Dict[str, Optional[Kpi]]'] = Field(None, alias="kpis")


class PostBatchQueryTransport(PyCelonisBaseModel):
    analysis_commands: Optional['List[Optional[DataCommandBatchTransport]]'] = Field(None, alias="analysisCommands")
    query_environment: Optional['QueryEnvironment'] = Field(None, alias="queryEnvironment")


class QueryEnvironment(PyCelonisBaseModel):
    accelerator_session_id: Optional['str'] = Field(None, alias="acceleratorSessionId")
    data_permission_rules: Optional['List[Optional[DataPermissionRule]]'] = Field(None, alias="dataPermissionRules")
    data_permission_strategy: Optional['DataPermissionStrategy'] = Field(None, alias="dataPermissionStrategy")
    feature_flags: Optional['Dict[str, Optional[bool]]'] = Field(None, alias="featureFlags")
    kpi_infos: Optional['KpiInformation'] = Field(None, alias="kpiInfos")
    load_script: Optional['str'] = Field(None, alias="loadScript")
    preamble: Optional['str'] = Field(None, alias="preamble")
    process_id: Optional['str'] = Field(None, alias="processId")
    scoped_knowledge_collection: Optional['ScopedKnowledgeCollection'] = Field(None, alias="scopedKnowledgeCollection")
    user_id: Optional['str'] = Field(None, alias="userId")
    user_name: Optional['str'] = Field(None, alias="userName")


class ScopedKnowledgeCollection(PyCelonisBaseModel):
    knowledge_collections: Optional['List[Optional[KnowledgeCollection]]'] = Field(None, alias="knowledgeCollections")


class KnowledgeCollection(PyCelonisBaseModel):
    default_activity_column_definition: Optional['DefaultActivityColumnDefinition'] = Field(
        None, alias="defaultActivityColumnDefinition"
    )
    kpi_definitions: Optional['Dict[str, Optional[KpiDefinition]]'] = Field(None, alias="kpiDefinitions")
    registered_variables: Optional['Dict[str, Optional[RegisteredVariable]]'] = Field(None, alias="registeredVariables")
    source: Optional['str'] = Field(None, alias="source")
    table_column_definitions: Optional['Dict[str, Optional[ColumnDefinitions]]'] = Field(
        None, alias="tableColumnDefinitions"
    )
    table_definitions: Optional['Dict[str, Optional[TableDefinition]]'] = Field(None, alias="tableDefinitions")


class KpiDefinition(PyCelonisBaseModel):
    pql_template: Optional['str'] = Field(None, alias="pqlTemplate")


class RegisteredVariable(PyCelonisBaseModel):
    pql_expression: Optional['str'] = Field(None, alias="pqlExpression")
    type_: Optional['RegisteredVariableType'] = Field(None, alias="type")


class ColumnDefinitions(PyCelonisBaseModel):
    empty: Optional['bool'] = Field(None, alias="empty")


class ColumnDefinition(PyCelonisBaseModel):
    column_pql_expression: Optional['str'] = Field(None, alias="columnPqlExpression")
    where_pql_expression: Optional['str'] = Field(None, alias="wherePqlExpression")


class TableDefinition(PyCelonisBaseModel):
    pql_expression: Optional['str'] = Field(None, alias="pqlExpression")


class DefaultActivityColumnDefinition(PyCelonisBaseModel):
    pql_template: Optional['str'] = Field(None, alias="pqlTemplate")


class ExportKnowledgeModelByRootWithKeyRequest(PyCelonisBaseModel):
    export_type: Optional['ProxyExportTypeV2'] = Field(None, alias="exportType")
    query: Optional['str'] = Field(None, alias="query")
    query_context: Optional['QueryContext'] = Field(None, alias="queryContext")


class ExportQueryResponse(PyCelonisBaseModel):
    query_response: Optional['ProxyDataExportStatusResponseV2'] = Field(None, alias="queryResponse")


class ProxyDataExportStatusResponseV2(PyCelonisBaseModel):
    created: Optional['datetime'] = Field(None, alias="created")
    export_status: Optional['ProxyExportStatusV2'] = Field(None, alias="exportStatus")
    export_type: Optional['ProxyExportTypeV2'] = Field(None, alias="exportType")
    exported_chunks: Optional['List[Optional[ExportChunk]]'] = Field(None, alias="exportedChunks")
    id: Optional['uuid.UUID'] = Field(None, alias="id")
    messages: Optional['List[Optional[str]]'] = Field(None, alias="messages")


class ExportChunk(PyCelonisBaseModel):
    href: Optional['str'] = Field(None, alias="href")
    id: Optional['int'] = Field(None, alias="id")
    size_in_bytes: Optional['int'] = Field(None, alias="sizeInBytes")
    uri: Optional['str'] = Field(None, alias="uri")


class ExportStatusKnowledgeModelByRootWithKeyRequest(PyCelonisBaseModel):
    query_context: Optional['QueryContext'] = Field(None, alias="queryContext")


ValidationError.update_forward_refs()
ExceptionReference.update_forward_refs()
FrontendHandledBackendError.update_forward_refs()
FinalModelOptions.update_forward_refs()
YamlMetadata.update_forward_refs()
AssetMetadataTransport.update_forward_refs()
AssetUsage.update_forward_refs()
ContentNodeBaseTransport.update_forward_refs()
ContentNodeTransport.update_forward_refs()
RelatedAsset.update_forward_refs()
SourceUsageMetadata.update_forward_refs()
TargetUsageMetadata.update_forward_refs()
VariableDefinition.update_forward_refs()
ActionInput.update_forward_refs()
ActionMetadata.update_forward_refs()
ActivityMetadata.update_forward_refs()
AlertMetric.update_forward_refs()
AnomalyKpiMetadata.update_forward_refs()
AnomalyMetadata.update_forward_refs()
AttributeMetadata.update_forward_refs()
AugmentedAttributeMetadata.update_forward_refs()
BaseMetadata.update_forward_refs()
BusinessRecordMetadata.update_forward_refs()
DataTriggerMetadata.update_forward_refs()
EventLogKpi.update_forward_refs()
EventLogKpiView.update_forward_refs()
EventLogMetadata.update_forward_refs()
EventLogTransition.update_forward_refs()
EventLogTransitionKpi.update_forward_refs()
FilterMetadata.update_forward_refs()
FinalLayerTransport.update_forward_refs()
InputVariableDefinitionTransport.update_forward_refs()
KpiBenchmarking.update_forward_refs()
KpiBenchmarkingAction.update_forward_refs()
KpiMetadata.update_forward_refs()
KpiWithAlert.update_forward_refs()
LayerBase.update_forward_refs()
LayerMetadata.update_forward_refs()
LayerTransport.update_forward_refs()
NewAttributeMetadata.update_forward_refs()
NewEventLogMetadata.update_forward_refs()
ParameterMetadata.update_forward_refs()
PerformanceBucket.update_forward_refs()
PqlBaseMetadata.update_forward_refs()
RecordPriorityMetadata.update_forward_refs()
SingleEventLogMetadata.update_forward_refs()
TargetMetadata.update_forward_refs()
VariableMetadata.update_forward_refs()
ComputeCallerInfo.update_forward_refs()
DataCommand.update_forward_refs()
DataCommandBatchRequest.update_forward_refs()
DataCommandBatchTransport.update_forward_refs()
DataQuery.update_forward_refs()
LayerComputeTransport.update_forward_refs()
QueryRequest.update_forward_refs()
Variable.update_forward_refs()
DataPermissionRule.update_forward_refs()
Kpi.update_forward_refs()
KpiInformation.update_forward_refs()
PostBatchQueryTransport.update_forward_refs()
QueryEnvironment.update_forward_refs()
ScopedKnowledgeCollection.update_forward_refs()
KnowledgeCollection.update_forward_refs()
KpiDefinition.update_forward_refs()
RegisteredVariable.update_forward_refs()
ColumnDefinitions.update_forward_refs()
ColumnDefinition.update_forward_refs()
TableDefinition.update_forward_refs()
DefaultActivityColumnDefinition.update_forward_refs()
ExportKnowledgeModelByRootWithKeyRequest.update_forward_refs()
ExportQueryResponse.update_forward_refs()
ProxyDataExportStatusResponseV2.update_forward_refs()
ExportChunk.update_forward_refs()
ExportStatusKnowledgeModelByRootWithKeyRequest.update_forward_refs()


class SemanticLayerService:
    @staticmethod
    def post_api_semantic_models(
        client: Client, request_body: YamlMetadata, validate_: Optional['bool'] = None, **kwargs: Any
    ) -> ContentNodeTransport:
        logger.debug(
            f"Request: 'POST' -> '/semantic-layer/api/semantic-models'",
            extra={
                "request_type": "POST",
                "path": "/semantic-layer/api/semantic-models",
                "tracking_type": "API_REQUEST",
            },
        )

        params: Dict[str, Any] = {}
        if validate_ is not None:
            if isinstance(validate_, PyCelonisBaseModel):
                params.update(validate_.json_dict(by_alias=True))
            elif isinstance(validate_, dict):
                params.update(validate_)
            else:
                params["validate"] = validate_
        return client.request(
            method="POST",
            url=f"/semantic-layer/api/semantic-models",
            params=params,
            request_body=request_body,
            parse_json=True,
            type_=ContentNodeTransport,
            **kwargs,
        )

    @staticmethod
    def post_api_layer_id_name_final(
        client: Client, id_name: str, request_body: FinalModelOptions, is_draft: Optional['bool'] = None, **kwargs: Any
    ) -> FinalLayerTransport:
        logger.debug(
            f"Request: 'POST' -> '/semantic-layer/api/layer/{id_name}/final'",
            extra={
                "request_type": "POST",
                "path": "/semantic-layer/api/layer/{id_name}/final",
                "tracking_type": "API_REQUEST",
            },
        )

        params: Dict[str, Any] = {}
        if is_draft is not None:
            if isinstance(is_draft, PyCelonisBaseModel):
                params.update(is_draft.json_dict(by_alias=True))
            elif isinstance(is_draft, dict):
                params.update(is_draft)
            else:
                params["isDraft"] = is_draft
        return client.request(
            method="POST",
            url=f"/semantic-layer/api/layer/{id_name}/final",
            params=params,
            request_body=request_body,
            parse_json=True,
            type_=FinalLayerTransport,
            **kwargs,
        )

    @staticmethod
    def post_api_knowledge_model_resolve_query(
        client: Client, request_body: LayerComputeTransport, **kwargs: Any
    ) -> PostBatchQueryTransport:
        logger.debug(
            f"Request: 'POST' -> '/semantic-layer/api/knowledge-model/resolve-query'",
            extra={
                "request_type": "POST",
                "path": "/semantic-layer/api/knowledge-model/resolve-query",
                "tracking_type": "API_REQUEST",
            },
        )

        return client.request(
            method="POST",
            url=f"/semantic-layer/api/knowledge-model/resolve-query",
            request_body=request_body,
            parse_json=True,
            type_=PostBatchQueryTransport,
            **kwargs,
        )

    @staticmethod
    def get_api_knowledge_model_layer_asset_id_kpis(
        client: Client, layer_asset_id: str, **kwargs: Any
    ) -> List[Optional[KpiMetadata]]:
        logger.debug(
            f"Request: 'GET' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis'",
            extra={
                "request_type": "GET",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis",
                "tracking_type": "API_REQUEST",
            },
        )

        return client.request(
            method="GET",
            url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis",
            parse_json=True,
            type_=List[Optional[KpiMetadata]],
            **kwargs,
        )

    @staticmethod
    def post_api_knowledge_model_layer_asset_id_kpis(
        client: Client,
        layer_asset_id: str,
        request_body: KpiMetadata,
        validate_: Optional['bool'] = None,
        **kwargs: Any,
    ) -> KpiMetadata:
        logger.debug(
            f"Request: 'POST' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis'",
            extra={
                "request_type": "POST",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis",
                "tracking_type": "API_REQUEST",
            },
        )

        params: Dict[str, Any] = {}
        if validate_ is not None:
            if isinstance(validate_, PyCelonisBaseModel):
                params.update(validate_.json_dict(by_alias=True))
            elif isinstance(validate_, dict):
                params.update(validate_)
            else:
                params["validate"] = validate_
        return client.request(
            method="POST",
            url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis",
            params=params,
            request_body=request_body,
            parse_json=True,
            type_=KpiMetadata,
            **kwargs,
        )

    @staticmethod
    def get_api_knowledge_model_layer_asset_id_kpis_kpi_id(
        client: Client, layer_asset_id: str, kpi_id: str, **kwargs: Any
    ) -> KpiMetadata:
        logger.debug(
            f"Request: 'GET' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis/{kpi_id}'",
            extra={
                "request_type": "GET",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis/{kpi_id}",
                "tracking_type": "API_REQUEST",
            },
        )

        return client.request(
            method="GET",
            url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis/{kpi_id}",
            parse_json=True,
            type_=KpiMetadata,
            **kwargs,
        )

    @staticmethod
    def put_api_knowledge_model_layer_asset_id_kpis_kpi_id(
        client: Client,
        layer_asset_id: str,
        kpi_id: str,
        request_body: KpiMetadata,
        validate_: Optional['bool'] = None,
        **kwargs: Any,
    ) -> KpiMetadata:
        logger.debug(
            f"Request: 'PUT' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis/{kpi_id}'",
            extra={
                "request_type": "PUT",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis/{kpi_id}",
                "tracking_type": "API_REQUEST",
            },
        )

        params: Dict[str, Any] = {}
        if validate_ is not None:
            if isinstance(validate_, PyCelonisBaseModel):
                params.update(validate_.json_dict(by_alias=True))
            elif isinstance(validate_, dict):
                params.update(validate_)
            else:
                params["validate"] = validate_
        return client.request(
            method="PUT",
            url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis/{kpi_id}",
            params=params,
            request_body=request_body,
            parse_json=True,
            type_=KpiMetadata,
            **kwargs,
        )

    @staticmethod
    def delete_api_knowledge_model_layer_asset_id_kpis_kpi_id(
        client: Client, layer_asset_id: str, kpi_id: str, **kwargs: Any
    ) -> None:
        logger.debug(
            f"Request: 'DELETE' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis/{kpi_id}'",
            extra={
                "request_type": "DELETE",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis/{kpi_id}",
                "tracking_type": "API_REQUEST",
            },
        )

        return client.request(
            method="DELETE", url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/kpis/{kpi_id}", **kwargs
        )

    @staticmethod
    def get_api_knowledge_model_layer_asset_id_filters(
        client: Client, layer_asset_id: str, **kwargs: Any
    ) -> List[Optional[FilterMetadata]]:
        logger.debug(
            f"Request: 'GET' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/filters'",
            extra={
                "request_type": "GET",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/filters",
                "tracking_type": "API_REQUEST",
            },
        )

        return client.request(
            method="GET",
            url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/filters",
            parse_json=True,
            type_=List[Optional[FilterMetadata]],
            **kwargs,
        )

    @staticmethod
    def post_api_knowledge_model_layer_asset_id_filters(
        client: Client,
        layer_asset_id: str,
        request_body: FilterMetadata,
        validate_: Optional['bool'] = None,
        **kwargs: Any,
    ) -> FilterMetadata:
        logger.debug(
            f"Request: 'POST' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/filters'",
            extra={
                "request_type": "POST",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/filters",
                "tracking_type": "API_REQUEST",
            },
        )

        params: Dict[str, Any] = {}
        if validate_ is not None:
            if isinstance(validate_, PyCelonisBaseModel):
                params.update(validate_.json_dict(by_alias=True))
            elif isinstance(validate_, dict):
                params.update(validate_)
            else:
                params["validate"] = validate_
        return client.request(
            method="POST",
            url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/filters",
            params=params,
            request_body=request_body,
            parse_json=True,
            type_=FilterMetadata,
            **kwargs,
        )

    @staticmethod
    def get_api_knowledge_model_layer_asset_id_filters_filter_id(
        client: Client, layer_asset_id: str, filter_id: str, **kwargs: Any
    ) -> FilterMetadata:
        logger.debug(
            f"Request: 'GET' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/filters/{filter_id}'",
            extra={
                "request_type": "GET",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/filters/{filter_id}",
                "tracking_type": "API_REQUEST",
            },
        )

        return client.request(
            method="GET",
            url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/filters/{filter_id}",
            parse_json=True,
            type_=FilterMetadata,
            **kwargs,
        )

    @staticmethod
    def put_api_knowledge_model_layer_asset_id_filters_filter_id(
        client: Client,
        layer_asset_id: str,
        filter_id: str,
        request_body: FilterMetadata,
        validate_: Optional['bool'] = None,
        **kwargs: Any,
    ) -> FilterMetadata:
        logger.debug(
            f"Request: 'PUT' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/filters/{filter_id}'",
            extra={
                "request_type": "PUT",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/filters/{filter_id}",
                "tracking_type": "API_REQUEST",
            },
        )

        params: Dict[str, Any] = {}
        if validate_ is not None:
            if isinstance(validate_, PyCelonisBaseModel):
                params.update(validate_.json_dict(by_alias=True))
            elif isinstance(validate_, dict):
                params.update(validate_)
            else:
                params["validate"] = validate_
        return client.request(
            method="PUT",
            url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/filters/{filter_id}",
            params=params,
            request_body=request_body,
            parse_json=True,
            type_=FilterMetadata,
            **kwargs,
        )

    @staticmethod
    def delete_api_knowledge_model_layer_asset_id_filters_filter_id(
        client: Client, layer_asset_id: str, filter_id: str, **kwargs: Any
    ) -> None:
        logger.debug(
            f"Request: 'DELETE' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/filters/{filter_id}'",
            extra={
                "request_type": "DELETE",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/filters/{filter_id}",
                "tracking_type": "API_REQUEST",
            },
        )

        return client.request(
            method="DELETE", url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/filters/{filter_id}", **kwargs
        )

    @staticmethod
    def get_api_knowledge_model_layer_asset_id_variables(
        client: Client, layer_asset_id: str, **kwargs: Any
    ) -> List[Optional[VariableMetadata]]:
        logger.debug(
            f"Request: 'GET' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/variables'",
            extra={
                "request_type": "GET",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/variables",
                "tracking_type": "API_REQUEST",
            },
        )

        return client.request(
            method="GET",
            url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/variables",
            parse_json=True,
            type_=List[Optional[VariableMetadata]],
            **kwargs,
        )

    @staticmethod
    def post_api_knowledge_model_layer_asset_id_variables(
        client: Client,
        layer_asset_id: str,
        request_body: VariableMetadata,
        validate_: Optional['bool'] = None,
        **kwargs: Any,
    ) -> VariableMetadata:
        logger.debug(
            f"Request: 'POST' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/variables'",
            extra={
                "request_type": "POST",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/variables",
                "tracking_type": "API_REQUEST",
            },
        )

        params: Dict[str, Any] = {}
        if validate_ is not None:
            if isinstance(validate_, PyCelonisBaseModel):
                params.update(validate_.json_dict(by_alias=True))
            elif isinstance(validate_, dict):
                params.update(validate_)
            else:
                params["validate"] = validate_
        return client.request(
            method="POST",
            url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/variables",
            params=params,
            request_body=request_body,
            parse_json=True,
            type_=VariableMetadata,
            **kwargs,
        )

    @staticmethod
    def get_api_knowledge_model_layer_asset_id_variables_variable_id(
        client: Client, layer_asset_id: str, variable_id: str, **kwargs: Any
    ) -> VariableMetadata:
        logger.debug(
            f"Request: 'GET' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/variables/{variable_id}'",
            extra={
                "request_type": "GET",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/variables/{variable_id}",
                "tracking_type": "API_REQUEST",
            },
        )

        return client.request(
            method="GET",
            url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/variables/{variable_id}",
            parse_json=True,
            type_=VariableMetadata,
            **kwargs,
        )

    @staticmethod
    def put_api_knowledge_model_layer_asset_id_variables_variable_id(
        client: Client,
        layer_asset_id: str,
        variable_id: str,
        request_body: VariableMetadata,
        validate_: Optional['bool'] = None,
        **kwargs: Any,
    ) -> VariableMetadata:
        logger.debug(
            f"Request: 'PUT' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/variables/{variable_id}'",
            extra={
                "request_type": "PUT",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/variables/{variable_id}",
                "tracking_type": "API_REQUEST",
            },
        )

        params: Dict[str, Any] = {}
        if validate_ is not None:
            if isinstance(validate_, PyCelonisBaseModel):
                params.update(validate_.json_dict(by_alias=True))
            elif isinstance(validate_, dict):
                params.update(validate_)
            else:
                params["validate"] = validate_
        return client.request(
            method="PUT",
            url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/variables/{variable_id}",
            params=params,
            request_body=request_body,
            parse_json=True,
            type_=VariableMetadata,
            **kwargs,
        )

    @staticmethod
    def delete_api_knowledge_model_layer_asset_id_variables_variable_id(
        client: Client, layer_asset_id: str, variable_id: str, **kwargs: Any
    ) -> None:
        logger.debug(
            f"Request: 'DELETE' -> '/semantic-layer/api/knowledge-model/{layer_asset_id}/variables/{variable_id}'",
            extra={
                "request_type": "DELETE",
                "path": "/semantic-layer/api/knowledge-model/{layer_asset_id}/variables/{variable_id}",
                "tracking_type": "API_REQUEST",
            },
        )

        return client.request(
            method="DELETE",
            url=f"/semantic-layer/api/knowledge-model/{layer_asset_id}/variables/{variable_id}",
            **kwargs,
        )

    @staticmethod
    def post_api_knowledge_models_by_knowledge_model_root_with_key_root_with_key_exports(
        client: Client, root_with_key: str, request_body: ExportKnowledgeModelByRootWithKeyRequest, **kwargs: Any
    ) -> ExportQueryResponse:
        logger.debug(
            f"Request: 'POST' -> '/semantic-layer/api/knowledge-models/by-knowledge-model-root-with-key/{root_with_key}/exports'",
            extra={
                "request_type": "POST",
                "path": "/semantic-layer/api/knowledge-models/by-knowledge-model-root-with-key/{root_with_key}/exports",
                "tracking_type": "API_REQUEST",
            },
        )

        return client.request(
            method="POST",
            url=f"/semantic-layer/api/knowledge-models/by-knowledge-model-root-with-key/{root_with_key}/exports",
            request_body=request_body,
            parse_json=True,
            type_=ExportQueryResponse,
            **kwargs,
        )

    @staticmethod
    def post_api_knowledge_models_by_knowledge_model_root_with_key_root_with_key_exports_export_id(
        client: Client,
        root_with_key: str,
        export_id: str,
        request_body: ExportStatusKnowledgeModelByRootWithKeyRequest,
        **kwargs: Any,
    ) -> ExportQueryResponse:
        logger.debug(
            f"Request: 'POST' -> '/semantic-layer/api/knowledge-models/by-knowledge-model-root-with-key/{root_with_key}/exports/{export_id}'",
            extra={
                "request_type": "POST",
                "path": "/semantic-layer/api/knowledge-models/by-knowledge-model-root-with-key/{root_with_key}/exports/{export_id}",
                "tracking_type": "API_REQUEST",
            },
        )

        return client.request(
            method="POST",
            url=f"/semantic-layer/api/knowledge-models/by-knowledge-model-root-with-key/{root_with_key}/exports/{export_id}",
            request_body=request_body,
            parse_json=True,
            type_=ExportQueryResponse,
            **kwargs,
        )

    @staticmethod
    def post_api_knowledge_models_by_knowledge_model_root_with_key_root_with_key_exports_export_id_chunks_chunk_id(
        client: Client,
        root_with_key: str,
        export_id: str,
        chunk_id: str,
        request_body: ExportStatusKnowledgeModelByRootWithKeyRequest,
        **kwargs: Any,
    ) -> BytesIO:
        logger.debug(
            f"Request: 'POST' -> '/semantic-layer/api/knowledge-models/by-knowledge-model-root-with-key/{root_with_key}/exports/{export_id}/chunks/{chunk_id}'",
            extra={
                "request_type": "POST",
                "path": "/semantic-layer/api/knowledge-models/by-knowledge-model-root-with-key/{root_with_key}/exports/{export_id}/chunks/{chunk_id}",
                "tracking_type": "API_REQUEST",
            },
        )

        return client.request(
            method="POST",
            url=f"/semantic-layer/api/knowledge-models/by-knowledge-model-root-with-key/{root_with_key}/exports/{export_id}/chunks/{chunk_id}",
            request_body=request_body,
            parse_json=True,
            type_=BytesIO,
            **kwargs,
        )
